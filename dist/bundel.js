(()=>{"use strict";const e=function(e){var t=document.querySelector(".modal-callback"),n=document.querySelector(".modal-overlay");e.addEventListener("click",(function(){var e,o,c;e=t,o=1/50,c=setInterval((function(){e.style.opacity>=1&&clearInterval(c),e.style.opacity=+e.style.opacity+o}),.05),t.style.display="block",n.style.display="block"}))};var t,n,o,c,r,l,a,i,u,s,d,f,m,y,v,p=document.querySelectorAll(".callback-btn"),h=document.querySelector(".button-services"),g=document.querySelector(".services-carousel").querySelectorAll(".element");i=document.querySelectorAll(".item"),u=document.querySelector(".top-slider"),s=[],d=0,f=function(e,t,n){e[t].classList.remove(n)},m=function(e,t,n){e[t].classList.add(n)},y=function(){f(i,d,"item"),f(s,d,"active"),++d>=i.length&&(d=0),m(i,d,"item"),m(s,d,"active")},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;a=setInterval(y,e)},i.forEach((function(e,t){s[t]=e.querySelector(".table")})),s[0].classList.add("active"),s.forEach((function(e){e.style.position="absolute"})),u.addEventListener("mouseover",(function(e){e.target.matches(".item")&&clearInterval(a)})),u.addEventListener("mouseout",(function(e){e.target.matches(".item")&&v()})),v(),function(){var e=document.querySelector(".services-carousel").querySelectorAll(".element"),t=document.querySelector(".services-arrow"),n=[],o=[],c=0;e.forEach((function(e,t){o[t]=e}));for(var r=0;r<Math.ceil(o.length/3);r++)n[r]=o.slice(3*r,3*r+3);var l=function(e,t,n){e[t].forEach((function(e){e.style.display=n}))};l(n,1,"none"),t.addEventListener("click",(function(e){e.preventDefault();var t=e.target;l(n,c,"none"),t.matches(".arrow-right")?c++:t.matches(".arrow-left")&&c--,c>=n.length&&(c=0),c<0&&(c=n.length-1),n[c].forEach((function(e){e.style.display="block"}))}))}(),c=document.querySelector(".modal-callback"),r=document.querySelector(".modal-overlay"),l=function(){c.style.display="none",c.style.opacity=0,r.style.display="none"},c.addEventListener("click",(function(e){e.target.hasAttribute("Alt")&&l()})),r.addEventListener("click",(function(){l()})),document.querySelector("html").style.scrollBehavior="smooth",t=document.querySelector(".accordeon"),n=t.querySelectorAll(".element"),o=t.querySelectorAll(".element-content"),t.addEventListener("click",(function(e){e.preventDefault();var t=e.target;t.matches(".title")&&(n.forEach((function(e){e.classList.remove("active")})),o.forEach((function(e){e.style.display="none"})),t.closest(".element").classList.add("active"),t.closest(".element").querySelector(".element-content").style.display="block")})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".up");window.onscroll=function(){window.pageYOffset>580?e.style.display="block":e.style.display="none"},e.addEventListener("click",(function(){window.scrollBy({top:-document.documentElement.scrollHeight,behavior:"smooth"})}))})),function(){var e,t,n,o=document.querySelector(".modal-callback"),c=document.querySelector("form"),r=o.querySelectorAll("input"),l=document.createElement("div"),a=function(){l.textContent=""};l.style.cssText="font-size: 2rem; color: #e9bb26",c.addEventListener("submit",(function(e){var o;e.preventDefault(),c.appendChild(l),l.textContent="Отправка сообщения",r.forEach((function(e){"fio"===e.getAttribute("name")?t=e.value:"tel"===e.getAttribute("name")&&(n=e.value)})),(o={name:t,phone:n},fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).then((function(e){if(200!==e.status)throw new Error("status network not 200");l.textContent="Отправлено, ожидайте звонка!",c.reset()})).catch((function(e){l.textContent="Ошибка",console.error(e)})).finally((function(){setTimeout(a,5e3)}))}));var i=function(e){return(e=(e=(e=e.replace(/\-+/g,"-")).replace(/\s+/g," ").trim()).replace(/^\-/g,"")).replace(/\-$/g,"")};r.forEach((function(t){"fio"===t.getAttribute("name")?t.addEventListener("blur",(function(t){var n;e=(e=t.target.value).replace(/[^?!,.\-а-яё\s]/gi,""),e=(n=e=i(e))?n.toLowerCase().split(" ").map((function(e){return e[0].toUpperCase()+e.substr(1)})).join(" "):n="",t.target.value=e})):"tel"===t.getAttribute("name")&&(t.setAttribute("required",!0),t.addEventListener("blur",(function(t){e=(e=t.target.value).replace(/[^\-()0-9]/gi,""),e=(e="+"+(e=i(e))).match(/\+?[78]([-()]*\d){10}/g),t.target.value=e})))}))}(),e(h),e(p[1]),g.forEach((function(t){e(t)}))})();